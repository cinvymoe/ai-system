# Python 后端通信测试说明

## 功能说明

后端通信测试界面用于测试前端与 Python FastAPI 后端的通信连接。

## 使用步骤

### 1. 启动 Python 后端

在 `backend` 目录下运行：

```bash
cd backend
python src/main.py
```

后端将在 `http://localhost:8000` 启动。

### 2. 访问测试界面

1. 启动前端应用
2. 点击左上角设置按钮（齿轮图标）
3. 在侧边栏中选择 "Python 后端测试"

### 3. 测试接口

测试界面提供以下功能：

- **后端地址配置**：可以修改后端地址（默认 `http://localhost:8000`）
- **测试根路径 (/)**：测试后端根接口
- **测试健康检查 (/health)**：测试健康检查接口
- **测试所有接口**：一键测试所有可用接口
- **清空结果**：清空测试结果列表

### 4. 查看结果

测试结果会实时显示在界面下方，包括：
- 接口路径
- 状态（成功/失败）
- 返回数据（JSON 格式）
- 错误信息（如果有）
- 测试时间戳

## 当前可用接口

### GET /
- 描述：根接口，返回欢迎信息
- 返回示例：
```json
{
  "message": "Hello World",
  "service": "Vision Security Backend"
}
```

### GET /health
- 描述：健康检查接口
- 返回示例：
```json
{
  "status": "healthy"
}
```

## 故障排查

### 后端无法连接
1. 确认后端服务已启动
2. 检查端口 8000 是否被占用
3. 确认防火墙设置允许本地连接

### CORS 错误
如果遇到跨域问题，需要在后端添加 CORS 中间件：

```python
from fastapi.middleware.cors import CORSMiddleware

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

## 扩展开发

要添加新的测试接口：

1. 在后端 `main.py` 中添加新的路由
2. 在测试界面的 `testAllEndpoints` 函数中添加新的测试调用
3. 可选：添加单独的测试按钮
